<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %} {% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

  <style>
    
    #btn-back-to-top {
      position: fixed;
      bottom: 20px;
      left: 20px;
      display: none;
      z-index: 542;
    }

.btn-outline {
  background: linear-gradient(120deg, #1e8ac1 60%, #3ca1d4 40%);
  color: #ffffff;
  border-color: #4fbfa8;
  transition: all 2s ease-in-out;
  font-weight: bold;
  letter-spacing: 0.05em;
}
.btn-outline:hover,
.btn-outline:active,
.btn-outline:focus,
.btn-outline.active {
  background: linear-gradient(60deg, #1e8ac1 60%, #3ca1d4 40%);
  color: #ffffff;
  border-color: #4fbfa8;
  
}




.btn-view-1 {
  color: #fff;
  background-color: #004E64;
  border-color: #004E64;
  font-weight: bold;
  letter-spacing: 0.05em;
  border-radius: 0;
}

.btn-view-1:hover,
.btn-view-1:active,
.btn-view-1:focus,
.btn-view-1.active {
  /* let's darken #004E64 a bit for hover effect */
  /* #003D4F */
  background: #002233;
  color: #ffffff;
  border-color: #003D4F;
}

    
  </style>

  <style>{% block styles %} {% endblock %}</style>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600&family=Roboto:wght@100;400;500&family=Ubuntu+Condensed&display=swap" rel="stylesheet">
</head>

<body>
  <button type="button" class="btn btn-danger btn-floating btn-lg" id="btn-back-to-top">
    <i class="fas fa-arrow-up"></i>
  </button>
  
  <header class="py-3 mb-0 border-bottom bg-white sticky-top">
    <div class="container-fluid d-flex justify-content-between flex-row align-items-center">
      <a href="{% url 'home' %}" class=" fs-4 fw-bold navbar-brand px-3" style="font-family: 'Roboto', sans-serif;"> NextShelters</a>

      <div class="d-flex align-items-center ">
        <div class="d-flex d-none d-sm-block">
          <a href="{% url 'list_property' %}" class="btn btn-outline rounded-start" id="list_your_prop" style="margin-right: 20px;" ><span class="text-small" style="font-family: 'Roboto', sans-serif;">List Your Property</span></a>
          </div>
        <div class="flex-shrink-0 dropdown">
          <a href="#" class="d-block link-dark text-decoration-none dropdown-toggle position-relative" data-bs-toggle="dropdown"
            aria-expanded="true"  style="font-family: Baloo 2;">
            {% if not request.user.is_authenticated %}
             Account 
            {% else %} 
             {{user.username}} 
             {% if unread_mssg > 0%}
             <span class="badge text-bg-warning">{{unread_mssg}}</span>
              {% endif %}
            {% endif %}
          </a>
          <ul class="dropdown-menu text-small shadow" >
            {% if not request.user.is_authenticated %}
            <li><a class="dropdown-item" href="{% url 'register' %}"  style="font-family: Baloo 2;">Register</a></li>
            <li><a class="dropdown-item" href="{% url 'login' %}"  style="font-family: Baloo 2;">Login</a></li>
            {% else %}
            <li class="text-center"><span class="badge text-bg-warning fs-5 col-10"  style="font-family: Baloo 2;">{{user.first_name}}</span></li>
            <li><a class="dropdown-item" href="{% url 'view_messages' %}"  style="font-family: Baloo 2;">messages {% if unread_mssg > 0 %}<span class="badge text-bg-warning">{{unread_mssg}}</span>{% endif %}</a></li>
            <li><a class="dropdown-item" href="{% url 'wishlist' %}"  style="font-family: Baloo 2;">wishlist</a></li>
            <li><a class="dropdown-item" href="{% url 'listed_properties' %}"  style="font-family: Baloo 2;">Listed Properties</a></li>
            <li><a class="dropdown-item" href="{% url 'change_password' %}"  style="font-family: Baloo 2;">Change Password</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="{% url 'logout_view' %}"  style="font-family: Baloo 2;">Sign out</a></li>
            {% if request.user.profile.plan.name == 'Free' %}
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="{% url 'pricing' %}"  style="font-family: Baloo 2;">Go Premium</a></li>
            {% else %}
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="{% url 'dashboard' %}"  style="font-family: Baloo 2;">Premium Dashboard</a></li>
            {% endif %}
            <li>
              <hr class="dropdown-divider">
            </li>
            <li>
              <form action="{% url 'delete_account' user.username %}"id= "deleteForm" method="post" class="mt-2 text-center" >
                {% csrf_token %}
                <input type="submit" class="btn btn-danger text-center col-10"  style="font-family: Baloo 2;" value="Delete Account" onclick="return confirmDelete()">
            </form>
            </li>
          </ul>
          {% endif %}
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center d-sm-none">
    <a href="{% url 'list_property' %}" class="btn btn-outline btn rounded-start mr-2 col-8 mt-2" id="list_your_prop"><span class="text-small">List Your Property</span></a>
    </div>
      
  </header>

  {% block content%}

  {% endblock %}


  <footer class="py-4 text-white footer" style="background-color: #002233;">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h5 style="font-family: Roboto ;">About Us</h5>
          <p style="font-family: Baloo 2;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla ac varius mauris. Pellentesque habitant
            morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>
          <p><a href="{% url 'pagedetail' 1 %}" class="btn btn-outline text-white">Read More</a></p>
        </div>
        <div class="col-md-3">
          <h5 style = 'font-family: Roboto'; >Quick Links</h5>
          <ul class="list-unstyled">
            <li><a href="{% url 'home' %}">Home</a></li>
            <li><a href="{% url 'pagedetail' 1 %}">About</a></li>
            <li><a href="{% url 'pagedetail' 2 %}">Terms & Conditions</a></li>
            <li><a href="{% url 'faq' %}">FAQs</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5 style = 'font-family: Roboto' ;>Contact Us</h5>
          <ul class="list-unstyled">
            <li><i class="fas fa-map-marker-alt"></i> 123 Street, City, Country</li>
            <li><i class="fas fa-phone"></i> +1 234 567 890</li>
            <li><i class="fas fa-envelope"></i> <a href="mailto:khanmohammadanas27@gmail.com">info@example.com</a></li>
          </ul>
        </div>
      </div>
      <hr class="mt-4">
      <div class="d-flex flex-wrap justify-content-between align-items-center ">
        <div class="col-md-4 d-flex align-items-center">
          <span class="mb-3 mb-md-0" style="color: white;">Â© 2023 Company, Inc</span>
        </div>
        <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
          <li class="ms-3"><a class="text-body-secondary" href="#"><img
                src="https://www.pngitem.com/pimgs/m/33-336705_facebook-icon-facebook-logo-icon-dark-grey-hd.png"
                alt="mdo" width="40" height="32"></a></li>
          <li class="ms-3"><a class="text-body-secondary" href="#"><img
                src="https://www.pngitem.com/pimgs/m/33-336705_facebook-icon-facebook-logo-icon-dark-grey-hd.png"
                alt="mdo" width="40" height="32"></a></li>
          <li class="ms-3"><a class="text-body-secondary" href="#"><img
                src="https://www.pngitem.com/pimgs/m/33-336705_facebook-icon-facebook-logo-icon-dark-grey-hd.png"
                alt="mdo" width="40" height="32"></a></li>

        </ul>
      </div>
    </div>
  </footer>

  <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this item?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-danger" onclick="deleteItem()" >Delete</button>
            </div>
        </div>
    </div>
</div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    //Get the button
    let mybutton = document.getElementById("btn-back-to-top");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () {
      scrollFunction();
    };

    function scrollFunction() {
      if (
        document.body.scrollTop > 20 ||
        document.documentElement.scrollTop > 20
      ) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }
    // When the user clicks on the button, scroll to the top of the document
    mybutton.addEventListener("click", backToTop);

    function backToTop() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
  </script>

<script>
  function confirmDelete() {
   $('#deleteModal').modal('show');  // Show the modal
   return false;  // Prevent the default form submission
}

function deleteItem() {
   document.getElementById("deleteForm").submit();
}

</script>
  {% block scripts %}

  {% endblock %}

</body>

</html>